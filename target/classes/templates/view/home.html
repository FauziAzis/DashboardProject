<div th:fragment="home" >
    <div class="content-wrapper">
        <section class="content-header">
            <h1>
                Dashboard
                <small>Control panel</small>
            </h1>
            <ol class="breadcrumb">
                <li><a href="#"><i class="fa fa-dashboard"></i> Home</a></li>
            </ol>
        </section>

        <section class="content">
            <!--
            
            <div class="row">
                <div class="col-md-3 col-sm-6 col-xs-12">
                    <div class="info-box">
                        <span class="info-box-icon bg-aqua"><i class="fa fa-gear"></i></span>

                        <div class="info-box-content">
                            <span class="info-box-text">CPU Traffic</span>
                            <span class="info-box-number">90<small>%</small></span>
                        </div>
                    </div>
                </div>
                <div class="col-md-3 col-sm-6 col-xs-12">
                    <div class="info-box">
                        <span class="info-box-icon bg-red"><i class="fa fa-google-plus"></i></span>

                        <div class="info-box-content">
                            <span class="info-box-text">Likes</span>
                            <span class="info-box-number">41,410</span>
                        </div>
                    </div>
                </div>

                <div class="clearfix visible-sm-block"></div>

                <div class="col-md-3 col-sm-6 col-xs-12">
                    <div class="info-box">
                        <span class="info-box-icon bg-green"><i class="ion ion-ios-cart-outline"></i></span>

                        <div class="info-box-content">
                            <span class="info-box-text">Sales</span>
                            <span class="info-box-number">760</span>
                        </div>
                    </div>
                </div>
                <div class="col-md-3 col-sm-6 col-xs-12">
                    <div class="info-box">
                        <span class="info-box-icon bg-yellow"><i class="ion ion-ios-people-outline"></i></span>

                        <div class="info-box-content">
                            <span class="info-box-text">New Members</span>
                            <span class="info-box-number">2,000</span>
                        </div>
                    </div>
                </div>
            </div>
            
            -->
            <div class="row">
                <section class="col-lg-4 connectedSortable ui-sortable">
                    <div class="box box-solid box-primary">
                        <div class="box-header with-border">
                            <h3 class="box-title">Project Summary</h3>
                        </div>
                        <div class="box-body">

                            <table class="table table-striped table-hover">
                                <tbody>
                                    <tr>
                                        <th>Total Project</th>
                                        <td><span class="badge bg-red">70%</span></td>
                                    </tr>
                                    <tr>
                                        <th>On Schedule</th>
                                        <td><span class="badge bg-green">70%</span></td>
                                    </tr>
                                    <tr>
                                        <th>Behind Schedule</th>
                                        <td><span class="badge bg-blue">70%</span></td>
                                    </tr>
                                    <tr>
                                        <th>Ahead Schedule</th>
                                        <td><span class="badge bg-yellow">70%</span></td>
                                    </tr>
                                </tbody></table>
                        </div>
                    </div>

                    <div class="box box-solid box-primary ">
                        <div class="box-header with-border">
                            <h3 class="box-title">Resource Allocation Summary</h3>
                        </div>
                        <div class="box-body">
                            <div class="info-box">
                                <div class="form-group">
                                    <label>Pilih Periode</label>
                                    <select class="form-control">
                                        <option>Januari</option>
                                        <option>Februari</option>
                                        <option>Maret</option>
                                        <option>April</option>
                                        <option>Mei</option>
                                    </select>
                                </div>
                            </div>

                            <div class="info-box bg-yellow">
                                <span class="info-box-icon"><i class="fa fa-users"></i></span>

                                <div class="info-box-content">
                                    <span class="info-box-text">Total Resources (SDP)</span>
                                    <span class="info-box-number">25</span>

                                    <div class="progress">
                                        <div style="width: 68%" class="progress-bar"></div>
                                    </div>
                                    <span class="progress-description">
                                        68%
                                    </span>
                                </div>
                            </div>
                            <div class="info-box bg-green">
                                <span class="info-box-icon"><i class="fa fa-line-chart"></i></span>

                                <div class="info-box-content">
                                    <span class="info-box-text">% Utilization</span>
                                    <span class="info-box-number">90</span>

                                    <div class="progress">
                                        <div style="width: 90%" class="progress-bar"></div>
                                    </div>
                                    <span class="progress-description">
                                        90%
                                    </span>
                                </div>
                            </div>
                            <div class="info-box bg-red">
                                <span class="info-box-icon"><i class="fa fa-check-square-o"></i></span>

                                <div class="info-box-content">
                                    <span class="info-box-text">AVG Mandays Available</span>
                                    <span class="info-box-number">16 Days</span>

                                    <div class="progress">
                                        <div style="width: 70%" class="progress-bar"></div>
                                    </div>
                                    <span class="progress-description">
                                        70%
                                    </span>
                                </div>
                            </div>



                        </div>
                    </div>

                    <div class="box box-solid box-primary ">
                        <div class="box-header with-border">
                            <h3 class="box-title">Resource Role</h3>
                        </div>
                        <div class="box-body">
                            <canvas id="jabatan" height="300%"></canvas>
                        </div>
                    </div>
                </section>
                <section class="col-lg-8 connectedSortable ui-sortable">
                    <div class="box box-solid box-primary">
                        <div class="box-header with-border">
                            <h3 class="box-title">Project Progress</h3>
                        </div>
                        <div class="box-body">
                            <link rel="stylesheet" th:href="@{/css/dataTables.bootstrap.css}" />
                            <script th:src="@{js/jquery.dataTables.js}" type="text/javascript"></script>
                            <script th:src="@{js/dataTables.bootstrap.js}" type="text/javascript"></script>
                            <script type="text/javascript">
                                $(document).ready(function () {
                                    /*
                                     
                                     $('#dataTable').DataTable({
                                     "ajax": {
                                     "url": "/project/obj",
                                     "dataSrc": ""
                                     }
                                     });*/


                                    $('#dataProgress').DataTable({
                                        "ajax": {
                                            "url": "/project/all",
                                            "dataSrc": ""
                                        },
                                        "columns": [
                                            {"data": "projName"},
                                            {"data": "projOwner"},
                                            {"data": "projProgress",
                                                "render": function (data, type, row, meta) {
                                                    return `<div class="progress-group">
                                                    <span class="progress-text">` + row[`projName`] + `</span>
                                                    <span class="progress-number"><b>` + data + ` </b>%</span>
                                                    <div class="progress sm progress-striped active">
                                                    <div class="progress-bar progress-bar-red" style="width:` + data + `%"></div>
                                                    </div></div>`;
                                                    //return html;
                                                },
                                                "title": "Progress"
                                            }
                                        ]
                                    });

                                });
                            </script>
                            <table class="table table-striped" id="dataProgress">
                                <thead>
                                    <tr>
                                        <th width="20%">Project Name</th>
                                        <th width="10%">owner</th>
                                        <th>Progress</th>
                                    </tr>
                                </thead>
                            </table>
                        </div>
                    </div>

                    <div class="box box-solid box-primary">
                        <div class="box-header with-border">
                            <h3 class="box-title">Project Progress</h3>
                        </div>
                        <div class="box-body">
                            <script type="text/javascript">
                                $(document).ready(function () {
                                    var table = $('#dataTable').DataTable({
                                        'ajax': '/project/dt_project',
                                        'serverSide': true,
                                        columns: [
                                            {"data": "projId"},
                                            {"data": "projName"},
                                            {"data": "projDesc"},
                                            {"data": "projOwner"},
                                            {"data": "projStartDate"},
                                            {"data": "projEndDate"},
                                            {"data": "projStatus",
                                                "render": function (data) {
                                                    if (data === 0) {
                                                        return '<span class="label label-danger">' + data + '</span>';
                                                    } else {
                                                        return '<span class="label label-info">' + data + '</span>';
                                                    }
                                                }
                                            },
                                            {"data": "projProgress",
                                                "render": function (data) {
                                                    return '<span class="label label-danger">' + data + '</span>';
                                                },
                                                "title": "Progress"
                                            }
                                        ]
                                    });
                                });
                            </script>
                            <table class="table table-striped" id="dataTable">
                                <thead>
                                    <tr>
                                        <th>Id</th>
                                        <th>Name</th>
                                        <th>Desc</th>
                                        <th>Owner</th>
                                        <th>StartDate</th>
                                        <th>EndDate</th>
                                        <th>Status</th>
                                        <th>Progress</th>
                                    </tr>
                                </thead>
                            </table>
                        </div>
                    </div>

                    <div class="box box-solid box-primary">
                        <div class="box-header with-border">
                            <h3 class="box-title">Resource Allocation Report</h3>
                        </div>
                        <div class="box-body">
                            <script type="text/javascript">
                                
                                
                            </script>
                            
                            <div id="page"></div>
                        </div>
                    </div>

                    <div class="box box-solid box-primary">
                        <div class="box-header with-border">
                            <h3 class="box-title">Resource Allocation Report</h3>
                        </div>
                        <div class="box-body">
                            <canvas id="resource"></canvas>
                        </div>
                    </div>
                </section>

            </div>
        </section>

    </div>
</div>
